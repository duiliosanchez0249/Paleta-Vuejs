<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ColorVibe Studio Pro</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* CSS Personalizado para efectos que Tailwind no hace solo */
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .sidebar-transition {
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .color-block {
            transition: all 0.5s shadow-lg;
        }
        /* Scrollbar estÃ©tica */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 10px; }
    </style>
</head>
<body class="bg-[#0f172a] text-slate-200 overflow-x-hidden">

<div id="app">
    <div v-if="menuAbierto" @click="menuAbierto = false" class="fixed inset-0 bg-black/60 z-40 backdrop-blur-sm"></div>

    <aside :class="menuAbierto ? 'translate-x-0' : '-translate-x-full'" 
           class="fixed top-0 left-0 h-full w-80 glass z-50 sidebar-transition p-6 shadow-2xl">
        <div class="flex justify-between items-center mb-8">
            <h2 class="text-xl font-black text-blue-400 italic">STUDIO MENU</h2>
            <button @click="menuAbierto = false" class="text-2xl hover:text-red-400">âœ•</button>
        </div>
        
        <nav class="space-y-4">
            <div class="p-3 hover:bg-white/10 rounded-lg cursor-pointer transition flex items-center gap-3">
                <span></span> Mis Paletas Guardadas
            </div>
            <div class="p-3 hover:bg-white/10 rounded-lg cursor-pointer transition flex items-center gap-3 opacity-50">
                <span></span> Tendencias (PrÃ³ximamente)
            </div>
            <div class="p-3 hover:bg-white/10 rounded-lg cursor-pointer transition flex items-center gap-3 opacity-50">
                <span></span> Ajustes
            </div>
        </nav>

        <div class="absolute bottom-10 left-6 right-6">
            <p class="text-xs text-slate-500 italic">ProgramaciÃ³n para Internet - Tarea 06</p>
        </div>
    </aside>

    <header class="p-4 glass sticky top-0 z-30 flex justify-between items-center">
        <div class="flex items-center gap-4">
            <button @click="menuAbierto = true" class="p-2 hover:bg-white/10 rounded-lg transition">
                <span class="text-2xl">â˜°</span>
            </button>
            <h1 class="text-xl font-black tracking-widest text-white uppercase">Color<span class="text-blue-500">Vibe</span></h1>
        </div>
        
        <div class="flex gap-3">
            <input v-model="nombrePaleta" placeholder="Nombre de paleta..." 
                   class="bg-black/20 border border-white/10 rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-32 sm:w-48">
            <button @click="guardarPaleta" class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg font-bold text-sm transition">
                Guardar paleta
            </button>
        </div>
    </header>

    <main class="h-[60vh] flex flex-col md:flex-row p-6 gap-3">
        <div v-for="(color, index) in paletaActual" :key="index" 
             class="flex-1 rounded-3xl flex flex-col items-center justify-end pb-12 shadow-xl relative overflow-hidden group color-block"
             :style="{ backgroundColor: color.hex }">
            
            <button @click="color.locked = !color.locked" 
                    class="mb-6 p-4 rounded-full bg-black/20 backdrop-blur-md hover:scale-110 transition-transform text-2xl">
                {{ color.locked ? 'ðŸ”’' : 'ðŸ”“' }}
            </button>

            <div class="bg-black/40 backdrop-blur-xl p-4 rounded-2xl text-center cursor-pointer border border-white/10"
                 @click="copiarColor(color.hex)">
                <p class="font-mono text-xl font-bold tracking-wider">{{ color.hex.toUpperCase() }}</p>
            </div>
        </div>
    </main>

    <div class="text-center text-slate-500 text-sm mt-2">
        Tip: Presiona <span class="bg-slate-800 px-2 py-1 rounded text-white">Espacio</span> para vibrar nuevos colores
    </div>

    <section class="p-8 max-w-7xl mx-auto">
        <h2 class="text-2xl font-bold mb-8 flex items-center gap-3">
            <span class="text-blue-500">#</span> Tus Creaciones
        </h2>
        
        <div v-if="guardadas.length === 0" class="text-center p-20 border-2 border-dashed border-white/10 rounded-3xl opacity-30">
            AÃºn no has guardado ninguna paleta, gallo.
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8">
            <div v-for="(item, idx) in guardadas" :key="idx" 
                 class="glass p-5 rounded-3xl hover:border-blue-500/50 transition duration-500 group shadow-lg">
                <div class="flex justify-between items-start mb-4">
                    <div>
                        <h3 class="font-bold text-lg text-white">{{ item.nombre || 'Sin nombre' }}</h3>
                        <p class="text-[10px] text-slate-500 font-mono italic">{{ item.fecha }}</p>
                    </div>
                    <button @click="eliminarGuardada(idx)" class="text-slate-500 hover:text-red-400 transition">âœ•</button>
                </div>

                <div class="flex h-24 w-full rounded-2xl overflow-hidden shadow-inner mb-4">
                    <div v-for="c in item.colores" :style="{ backgroundColor: c }" 
                         class="flex-1 hover:flex-[1.5] transition-all cursor-pointer relative group/color"
                         @click="copiarColor(c)">
                        <span class="absolute inset-0 flex items-center justify-center text-[10px] opacity-0 group-hover/color:opacity-100 bg-black/20 font-bold">
                            COPY
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div v-if="notificacion" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-blue-600 text-white px-8 py-4 rounded-2xl shadow-2xl z-[100] font-bold tracking-wide animate-bounce">
        COPIADO: {{ lastCopied }} 
    </div>
</div>

<script>
    const { createApp, ref, onMounted } = Vue;

    createApp({
        setup() {
            const paletaActual = ref([]);
            const guardadas = ref([]);
            const nombrePaleta = ref('');
            const menuAbierto = ref(false);
            const notificacion = ref(false);
            const lastCopied = ref('');

            const randomHex = () => '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');

            const generarPaleta = () => {
                if (paletaActual.value.length === 0) {
                    for (let i = 0; i < 5; i++) {
                        paletaActual.value.push({ hex: randomHex(), locked: false });
                    }
                } else {
                    paletaActual.value.forEach(c => { if (!c.locked) c.hex = randomHex(); });
                }
            };

            const guardarPaleta = () => {
                const nueva = {
                    nombre: nombrePaleta.value || 'Paleta Ã‰pica',
                    colores: paletaActual.value.map(c => c.hex),
                    fecha: new Date().toLocaleTimeString()
                };
                guardadas.value.unshift(nueva);
                nombrePaleta.value = ''; // Limpiar input
            };

            const eliminarGuardada = (index) => {
                guardadas.value.splice(index, 1);
            };

            const copiarColor = (hex) => {
                navigator.clipboard.writeText(hex);
                lastCopied.value = hex.toUpperCase();
                notificacion.value = true;
                setTimeout(() => notificacion.value = false, 2000);
            };

            window.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && e.target.tagName !== 'INPUT') {
                    e.preventDefault();
                    generarPaleta();
                }
            });

            onMounted(generarPaleta);

            return { 
                paletaActual, guardadas, nombrePaleta, menuAbierto,
                generarPaleta, guardarPaleta, eliminarGuardada, copiarColor, 
                notificacion, lastCopied 
            };
        }
    }).mount('#app')
</script>
</body>
</html>
